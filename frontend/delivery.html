<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Merco Distributor - Delivery</title>
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>
  <header>
    <h1>Merco Distributor</h1>
    <nav>
      <ul>
        <li><a href="login.html">Logout</a></li>
        <li><a href="index.html">Home</a></li>
        <li><a href="products.html">Products</a></li>
        <li><a href="inventory.html">Inventory</a></li>
        <li><a href="delivery.html">Delivery</a></li>
        <li><a href="suppliers.html">Suppliers</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <h2>Delivery</h2>
    <!-- Top form to add new delivery -->
    <form id="deliveryForm">
      <div class="form-row">
        <label for="deliveryDate">Delivery Date:</label>
        <input type="date" id="deliveryDate" name="deliveryDate" required />
      </div>
      <div class="form-row">
        <label for="employeeId">Employee:</label>
        <select id="employeeId" name="employeeId" required></select>
      </div>
      <div class="form-row">
        <label for="outletId">Outlet:</label>
        <select id="outletId" name="outletId" required></select>
      </div>
      <button type="submit">Add Delivery</button>
    </form>

    <!-- New Filter Section -->
    <section id="filterSection" style="margin-top: 2em;">
      <h3>Filter Deliveries by Date</h3>
      <div class="form-row">
        <label for="fromDate">From:</label>
        <input type="date" id="fromDate" name="fromDate" />
        <label for="toDate">To:</label>
        <input type="date" id="toDate" name="toDate" />
        <button id="filterBtn" type="button">Filter</button>
      </div>
    </section>

    <!-- Middle section: Delivery Details + Add Product sub-form -->
    <section id="deliveryDetailsSection" style="margin-top: 2em;">
      <h3>Delivery Details (Add Product)</h3>
      <div class="form-row">
        <label for="detailProductId">Product:</label>
        <select id="detailProductId" name="detailProductId"></select>
        <label for="detailQuantity">Quantity:</label>
        <input type="number" id="detailQuantity" name="detailQuantity" required />
        <button id="addDetailBtn" disabled>Add Product</button>
      </div>
      <!-- Table of delivery details -->
      <div class="delivery-details-table" id="deliveryDetailsTable"></div>
      <!-- Balance Section -->
      <div id="deliveryBalance">
        <p>Total: $<span id="totalPrice">0.00</span></p>
        <div class="form-row">
          <label for="cashGiven">Cash:</label>
          <input type="number" id="cashGiven" value="0" />
          <!-- New button to update cash -->
          <button id="updateCashBtn" type="button">Update Cash</button>
        </div>
        <p>Balance: $<span id="balanceAmount">0.00</span></p>
      </div>
    </section>

    <!-- Bottom table: List of all deliveries -->
    <section id="deliveryListSection" style="margin-top: 2em;">
      <h3>All Deliveries</h3>
      <div class="delivery-list-table" id="deliveryList"></div>
    </section>
  </main>

  <footer>
    <p>Â© 2025 Merco Distributor. All rights reserved.</p>
  </footer>

  <script src="scripts/delivery.js"></script>
</body>
</html>
